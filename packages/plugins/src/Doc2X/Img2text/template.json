{
  "author": "Menghuan1918",
  "version": "488",
  "name": "Doc2X 图像识别",
  "avatar": "plugins/doc2x",
  "intro": "将图片发送至Doc2X进行解析，返回带LaTeX公式的markdown格式的文本，支持传入String类型的URL或者流程输出中的文件链接变量",
  "inputExplanationUrl": "https://fael3z0zfze.feishu.cn/wiki/Rkc5witXWiJoi5kORd2cofh6nDg?fromScene=spaceOverview",
  "showStatus": true,
  "weight": 10,

  "isTool": true,
  "templateType": "tools",

  "workflow": {
    "nodes": [
      {
        "nodeId": "pluginInput",
        "name": "自定义插件输入",
        "intro": "可以配置插件需要哪些输入，利用这些输入来运行插件",
        "avatar": "core/workflow/template/workflowStart",
        "flowNodeType": "pluginInput",
        "showStatus": false,
        "position": {
          "x": 361.8411735944442,
          "y": 6.163538265405862
        },
        "version": "481",
        "inputs": [
          {
            "renderTypeList": ["input"],
            "selectedTypeIndex": 0,
            "valueType": "string",
            "canEdit": true,
            "key": "apikey",
            "label": "apikey",
            "description": "Doc2X的验证密匙，对于个人用户可以从Doc2X官网 - 个人信息 - 身份令牌获得",
            "required": true,
            "toolDescription": "",
            "defaultValue": ""
          },
          {
            "renderTypeList": ["reference"],
            "selectedTypeIndex": 0,
            "valueType": "any",
            "canEdit": true,
            "key": "files",
            "label": "files",
            "description": "待处理图片文件或URL",
            "required": true,
            "toolDescription": "待处理图片文件或URL"
          },
          {
            "renderTypeList": ["switch"],
            "selectedTypeIndex": 0,
            "valueType": "boolean",
            "canEdit": true,
            "key": "img_correction",
            "label": "img_correction",
            "description": "是否启用图形矫正功能",
            "required": true,
            "toolDescription": "",
            "defaultValue": false
          },
          {
            "renderTypeList": ["switch"],
            "selectedTypeIndex": 0,
            "valueType": "boolean",
            "canEdit": true,
            "key": "formula",
            "label": "formula",
            "description": "是否开启纯公式识别(仅适用于图片内容仅有公式时)",
            "required": true,
            "toolDescription": "",
            "defaultValue": false
          }
        ],
        "outputs": [
          {
            "id": "apikey",
            "valueType": "string",
            "key": "apikey",
            "label": "apikey",
            "type": "hidden"
          },
          {
            "id": "url",
            "valueType": "any",
            "key": "files",
            "label": "files",
            "type": "hidden"
          },
          {
            "id": "img_correction",
            "valueType": "boolean",
            "key": "img_correction",
            "label": "img_correction",
            "type": "hidden"
          },
          {
            "id": "formula",
            "valueType": "boolean",
            "key": "formula",
            "label": "formula",
            "type": "hidden"
          }
        ]
      },
      {
        "nodeId": "pluginOutput",
        "name": "自定义插件输出",
        "intro": "自定义配置外部输出，使用插件时，仅暴露自定义配置的输出",
        "avatar": "core/workflow/template/pluginOutput",
        "flowNodeType": "pluginOutput",
        "showStatus": false,
        "position": {
          "x": 2310.6027133602956,
          "y": 35.5288060385617
        },
        "version": "481",
        "inputs": [
          {
            "renderTypeList": ["reference"],
            "valueType": "string",
            "canEdit": true,
            "key": "result",
            "label": "result",
            "description": "处理结果",
            "value": ["zHG5jJBkXmjB", "xWQuEf50F3mr"]
          },
          {
            "renderTypeList": ["reference"],
            "valueType": "string",
            "canEdit": true,
            "key": "failreason",
            "label": "failreason",
            "description": "文件处理失败原因，由文件名以及报错组成，多个文件之间由横线分隔开，如没有文件处理失败则为空",
            "value": ["zHG5jJBkXmjB", "jbv4nVZvmFXm"]
          },
          {
            "renderTypeList": ["reference"],
            "valueType": "boolean",
            "canEdit": true,
            "key": "success",
            "label": "success",
            "description": "是否全部文件都处理成功，如有没有处理成功的文件，失败原因将会输出在failreason中",
            "value": ["zHG5jJBkXmjB", "k46cjNulVk5Y"]
          }
        ],
        "outputs": []
      },
      {
        "nodeId": "zHG5jJBkXmjB",
        "name": "HTTP 请求",
        "intro": "可以发出一个 HTTP 请求，实现更为复杂的操作（联网搜索、数据库查询等）",
        "avatar": "core/workflow/template/httpRequest",
        "flowNodeType": "httpRequest468",
        "showStatus": true,
        "position": {
          "x": 1627.5819643323605,
          "y": -411.4492350666603
        },
        "version": "481",
        "inputs": [
          {
            "key": "system_addInputParam",
            "renderTypeList": ["addInputParam"],
            "valueType": "dynamic",
            "label": "",
            "required": false,
            "description": "core.module.input.description.HTTP Dynamic Input",
            "customInputConfig": {
              "selectValueTypeList": [
                "string",
                "number",
                "boolean",
                "object",
                "arrayString",
                "arrayNumber",
                "arrayBoolean",
                "arrayObject",
                "any",
                "chatHistory",
                "datasetQuote",
                "dynamic",
                "selectApp",
                "selectDataset"
              ],
              "showDescription": false,
              "showDefaultValue": true
            }
          },
          {
            "key": "system_httpMethod",
            "renderTypeList": ["custom"],
            "valueType": "string",
            "label": "",
            "value": "POST",
            "required": true
          },
          {
            "key": "system_httpReqUrl",
            "renderTypeList": ["hidden"],
            "valueType": "string",
            "label": "",
            "description": "core.module.input.description.Http Request Url",
            "placeholder": "https://api.ai.com/getInventory",
            "required": false,
            "value": "Doc2X/Img2text"
          },
          {
            "key": "system_httpHeader",
            "renderTypeList": ["custom"],
            "valueType": "any",
            "value": [],
            "label": "",
            "description": "core.module.input.description.Http Request Header",
            "placeholder": "core.module.input.description.Http Request Header",
            "required": false
          },
          {
            "key": "system_httpParams",
            "renderTypeList": ["hidden"],
            "valueType": "any",
            "value": [],
            "label": "",
            "required": false
          },
          {
            "key": "system_httpJsonBody",
            "renderTypeList": ["hidden"],
            "valueType": "any",
            "value": "{\n  \"apikey\": \"{{apikey}}\",\n  \"files\": \"{{files}}\",\n  \"img_correction\": {{img_correction}},\n  \"formula\": {{formula}}\n}",
            "label": "",
            "required": false
          },
          {
            "renderTypeList": ["reference"],
            "valueType": "string",
            "canEdit": true,
            "key": "apikey",
            "label": "apikey",
            "customInputConfig": {
              "selectValueTypeList": [
                "string",
                "number",
                "boolean",
                "object",
                "arrayString",
                "arrayNumber",
                "arrayBoolean",
                "arrayObject",
                "any",
                "chatHistory",
                "datasetQuote",
                "dynamic",
                "selectApp",
                "selectDataset"
              ],
              "showDescription": false,
              "showDefaultValue": true
            },
            "required": true,
            "value": ["pluginInput", "apikey"]
          },
          {
            "renderTypeList": ["reference"],
            "valueType": "any",
            "canEdit": true,
            "key": "files",
            "label": "files",
            "customInputConfig": {
              "selectValueTypeList": [
                "string",
                "number",
                "boolean",
                "object",
                "arrayString",
                "arrayNumber",
                "arrayBoolean",
                "arrayObject",
                "any",
                "chatHistory",
                "datasetQuote",
                "dynamic",
                "selectApp",
                "selectDataset"
              ],
              "showDescription": false,
              "showDefaultValue": true
            },
            "required": true,
            "value": ["bW6JPV4tLh2C", "system_text"]
          },
          {
            "renderTypeList": ["reference"],
            "valueType": "boolean",
            "canEdit": true,
            "key": "img_correction",
            "label": "img_correction",
            "customInputConfig": {
              "selectValueTypeList": [
                "string",
                "number",
                "boolean",
                "object",
                "arrayString",
                "arrayNumber",
                "arrayBoolean",
                "arrayObject",
                "any",
                "chatHistory",
                "datasetQuote",
                "dynamic",
                "selectApp",
                "selectDataset"
              ],
              "showDescription": false,
              "showDefaultValue": true
            },
            "required": true,
            "value": ["pluginInput", "img_correction"]
          },
          {
            "renderTypeList": ["reference"],
            "valueType": "boolean",
            "canEdit": true,
            "key": "formula",
            "label": "formula",
            "customInputConfig": {
              "selectValueTypeList": [
                "string",
                "number",
                "boolean",
                "object",
                "arrayString",
                "arrayNumber",
                "arrayBoolean",
                "arrayObject",
                "any",
                "chatHistory",
                "datasetQuote",
                "dynamic",
                "selectApp",
                "selectDataset"
              ],
              "showDescription": false,
              "showDefaultValue": true
            },
            "required": true,
            "value": ["pluginInput", "formula"]
          }
        ],
        "outputs": [
          {
            "id": "error",
            "key": "error",
            "label": "请求错误",
            "description": "HTTP请求错误信息，成功时返回空",
            "valueType": "object",
            "type": "static"
          },
          {
            "id": "httpRawResponse",
            "key": "httpRawResponse",
            "label": "原始响应",
            "required": true,
            "description": "HTTP请求的原始响应。只能接受字符串或JSON类型响应数据。",
            "valueType": "any",
            "type": "static"
          },
          {
            "id": "system_addOutputParam",
            "key": "system_addOutputParam",
            "type": "dynamic",
            "valueType": "dynamic",
            "label": "",
            "customFieldConfig": {
              "selectValueTypeList": [
                "string",
                "number",
                "boolean",
                "object",
                "arrayString",
                "arrayNumber",
                "arrayBoolean",
                "arrayObject",
                "any",
                "chatHistory",
                "datasetQuote",
                "dynamic",
                "selectApp",
                "selectDataset"
              ],
              "showDescription": false,
              "showDefaultValue": false
            }
          },
          {
            "id": "xWQuEf50F3mr",
            "valueType": "string",
            "type": "dynamic",
            "key": "result",
            "label": "result"
          },
          {
            "id": "jbv4nVZvmFXm",
            "valueType": "string",
            "type": "dynamic",
            "key": "failreason",
            "label": "failreason"
          },
          {
            "id": "k46cjNulVk5Y",
            "valueType": "boolean",
            "type": "dynamic",
            "key": "success",
            "label": "success"
          }
        ]
      },
      {
        "nodeId": "bW6JPV4tLh2C",
        "name": "文本拼接",
        "intro": "可对固定或传入的文本进行加工后输出，非字符串类型数据最终会转成字符串类型。",
        "avatar": "core/workflow/template/textConcat",
        "flowNodeType": "textEditor",
        "position": {
          "x": 1018.4040614736407,
          "y": -41.70221452706835
        },
        "version": "486",
        "inputs": [
          {
            "key": "system_addInputParam",
            "renderTypeList": ["addInputParam"],
            "valueType": "dynamic",
            "label": "",
            "required": false,
            "description": "可以引用其他节点的输出，作为文本拼接的变量，通过 {{字段名}} 来引用变量",
            "customInputConfig": {
              "selectValueTypeList": [
                "string",
                "number",
                "boolean",
                "object",
                "arrayString",
                "arrayNumber",
                "arrayBoolean",
                "arrayObject",
                "any",
                "chatHistory",
                "datasetQuote",
                "dynamic",
                "selectApp",
                "selectDataset"
              ],
              "showDescription": false,
              "showDefaultValue": false
            }
          },
          {
            "key": "system_textareaInput",
            "renderTypeList": ["textarea"],
            "valueType": "string",
            "required": true,
            "label": "拼接文本",
            "placeholder": "可通过 {{字段名}} 来引用变量",
            "value": "{{files}}"
          },
          {
            "renderTypeList": ["reference"],
            "valueType": "any",
            "canEdit": true,
            "key": "files",
            "label": "files",
            "customInputConfig": {
              "selectValueTypeList": [
                "string",
                "number",
                "boolean",
                "object",
                "arrayString",
                "arrayNumber",
                "arrayBoolean",
                "arrayObject",
                "any",
                "chatHistory",
                "datasetQuote",
                "dynamic",
                "selectApp",
                "selectDataset"
              ],
              "showDescription": false,
              "showDefaultValue": false
            },
            "required": true,
            "value": ["pluginInput", "url"]
          }
        ],
        "outputs": [
          {
            "id": "system_text",
            "key": "system_text",
            "label": "拼接结果",
            "type": "static",
            "valueType": "string"
          }
        ]
      }
    ],
    "edges": [
      {
        "source": "zHG5jJBkXmjB",
        "target": "pluginOutput",
        "sourceHandle": "zHG5jJBkXmjB-source-right",
        "targetHandle": "pluginOutput-target-left"
      },
      {
        "source": "bW6JPV4tLh2C",
        "target": "zHG5jJBkXmjB",
        "sourceHandle": "bW6JPV4tLh2C-source-right",
        "targetHandle": "zHG5jJBkXmjB-target-left"
      },
      {
        "source": "pluginInput",
        "target": "bW6JPV4tLh2C",
        "sourceHandle": "pluginInput-source-right",
        "targetHandle": "bW6JPV4tLh2C-target-left"
      }
    ]
  }
}
